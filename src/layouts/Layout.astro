---
export interface Props {
	title?: string;
	description?: string;
}

const { 
	title = "Nature Near Me",
	description = "Discover earthquakes, bird sightings, archaeological sites, and weather near you. Interactive map with real-time nature data from USGS, eBird, and more."
} = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="generator" content={Astro.generator} />
		
		<!-- SEO Keywords and Additional Meta Tags -->
		<meta name="keywords" content="nature, wildlife, earthquakes, bird watching, archaeology, national parks, fossils, weather, interactive map, USGS, eBird, outdoor activities" />
		<meta name="author" content="Earth, Uncovered by Curiosity" />
		<meta name="robots" content="index, follow" />
		<link rel="canonical" href="https://naturenear.me/" />

		<!-- Resource hints for better performance -->
		<link rel="preload" href="/images/logo.png" as="image" />

		<!-- Additional Social Media Tags -->
		<meta property="og:site_name" content="Earth, Uncovered by Curiosity" />
		<meta property="og:locale" content="en_US" />

		<!-- Structured Data for Rich Results -->
		<script type="application/ld+json">
			{
				"@context": "https://schema.org",
				"@type": "WebApplication",
				"name": "Nature Near Me",
				"description": "Interactive web application for discovering earthquakes, bird sightings, archaeological sites, fossils, national parks, and weather data near any location.",
				"url": "https://naturenear.me/",
				"applicationCategory": "EducationalApplication",
				"operatingSystem": "Web Browser",
				"offers": {
					"@type": "Offer",
					"price": "0",
					"priceCurrency": "USD"
				},
				"creator": {
					"@type": "Organization",
					"name": "Earth, Uncovered by Curiosity"
				},
				"keywords": [
					"nature",
					"wildlife",
					"earthquakes",
					"bird watching",
					"archaeology",
					"national parks",
					"fossils",
					"weather",
					"interactive map"
				]
			}
		</script>

		<!-- Favicon and App Icons -->
		<link rel="icon" type="image/x-icon" href="/images/favicon.ico" />
		<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" />

		<!-- Open Graph / Social Media -->
		<meta property="og:type" content="website" />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content="https://naturenear.me/images/logo.webp" />
		<meta property="og:url" content="https://naturenear.me/" />

		<!-- Leaflet CSS for interactive maps -->
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
			integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
			crossorigin=""/>
		<script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
			integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
			crossorigin=""></script>

		<!-- Analytics - load after everything else -->
		<script>
			window.addEventListener('load', function() {
				setTimeout(function() {
					var script = document.createElement('script');
					script.defer = true;
					script.src = 'https://cloud.umami.is/script.js';
					script.setAttribute('data-website-id', '50cb3f8f-d602-4968-858d-9c3a30b74715');
					document.head.appendChild(script);
				}, 3000);
			});
		</script>

		<title>{title}</title>
		<meta name="description" content={description} />
		
		<!-- Critical performance optimizations -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="theme-color" content="#2d2a26" />

		<style>
			/* Critical above-the-fold CSS to prevent layout shift */
			body { 
				margin: 0; 
				background: #faf8f3;
				min-height: 100vh;
				display: flex;
				flex-direction: column;
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
			}
			header { 
				min-height: 80px; 
				background: #ffffff;
				flex-shrink: 0;
				border-bottom: 3px solid #2d2a26;
			}
			main { 
				max-width: 70%;
				margin: 2rem auto;
				flex: 1;
				background: #ffffff;
				border-radius: 8px;
			}
			footer {
				min-height: 200px;
				background: #2d2a26;
				margin-top: auto;
				flex-shrink: 0;
			}
			.logo-image {
				width: 40px !important;
				height: 40px !important;
				display: block;
			}
			.site-logo-text {
				font-family: inherit;
				font-size: 24px;
				font-weight: 800;
				color: #2d2a26;
				line-height: 1.2;
			}
		</style>
		<script>
			// Random background image selection
			document.addEventListener('DOMContentLoaded', function() {
				const backgroundImages = [
					'/images/aerial-forest-landscape.webp',
					'/images/coastal-cliffs-ocean.webp',
					'/images/desert-canyon-formation.webp',
					'/images/earth-crust.webp',
					'/images/lake-mountain-reflection.webp',
					'/images/mountain-valley-vista.webp'
				];
				
				// Select a random image
				const randomImage = backgroundImages[Math.floor(Math.random() * backgroundImages.length)];
				
				// Set the background image with fixed attachment
				document.body.style.backgroundImage = `url('${randomImage}')`;
				document.body.style.backgroundAttachment = 'fixed';
				document.body.style.backgroundSize = 'cover';
				document.body.style.backgroundPosition = 'center';
				document.body.style.backgroundRepeat = 'no-repeat';
				
				console.log('ðŸŒ„ Set background image:', randomImage);
			});
		</script>
	</head>
	<body>
		<slot />
	</body>
</html>

<style is:global>
	/* OUTDOORS DESIGN SYSTEM - Strong, Outdoorsy, Data-Focused */
	:root {
		/* Earth Tone Color Palette */
		--stone-dark: #2d2a26;
		--stone-mid: #5a4f42;
		--earth-warm: #8b6914;
		--sage-green: #6b7c32;
		--rust-accent: #a0522d;
		
		/* Light & Airy */
		--stone-light: #f4f2ed;
		--cream: #faf8f3;
		--white: #ffffff;
		
		/* Typography Scale */
		--text-xs: 0.75rem;
		--text-sm: 0.875rem;
		--text-base: 1rem;
		--text-lg: 1.125rem;
		--text-xl: 1.25rem;
		--text-2xl: 1.5rem;
		--text-3xl: 1.875rem;
		--text-4xl: 2.25rem;
		
		/* Spacing Scale */
		--space-1: 0.25rem;
		--space-2: 0.5rem;
		--space-3: 0.75rem;
		--space-4: 1rem;
		--space-6: 1.5rem;
		--space-8: 2rem;
		--space-12: 3rem;
		--space-16: 4rem;
		--space-20: 5rem;
		
		/* Border Radius */
		--radius-sm: 0.125rem;
		--radius-md: 0.375rem;
		--radius-lg: 0.5rem;
		--radius-xl: 0.75rem;
	}

	/* Base Styles - Clean Foundation */
	* {
		box-sizing: border-box;
	}

	body {
		background: #6ba549; /* Fallback color */
		color: var(--stone-dark);
		font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
		font-size: var(--text-base);
		line-height: 1.6;
		margin: 0;
		min-height: 100vh;
		display: flex;
		flex-direction: column;
		background-attachment: fixed !important;
		background-size: cover !important;
		background-position: center !important;
		background-repeat: no-repeat !important;
		position: relative;
	}

	/* Background overlay for better text readability */
	body::before {
		content: '';
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: rgba(107, 165, 73, 0.2); /* Lighter semi-transparent green overlay */
		z-index: -1;
		pointer-events: none;
	}

	/* Header - Strong & Confident with Footer Connection */
	header {
		background: var(--stone-dark);
		color: var(--stone-light);
		border-bottom: 3px solid var(--earth-warm);
		padding: var(--space-4) 0;
		position: sticky;
		top: 0;
		z-index: 100;
		box-shadow: 0 2px 8px rgba(45, 42, 38, 0.3);
	}

	.header-content {
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 var(--space-4);
		display: flex;
		align-items: center;
		justify-content: space-between;
	}

	.header-left {
		display: flex;
		align-items: center;
		gap: var(--space-3);
	}

	.logo-container {
		display: flex;
		align-items: center;
		gap: var(--space-3);
		text-decoration: none;
	}

	.logo-image {
		width: 32px;
		height: 32px;
		filter: drop-shadow(0 2px 4px rgba(245, 242, 237, 0.4));
		object-fit: contain;
	}

	.site-logo-text {
		font-size: var(--text-2xl);
		font-weight: 800;
		color: #b47b24;
		letter-spacing: -0.025em;
		line-height: 1.2;
	}

	/* Navigation - Show the nav buttons */
	.header-right {
		display: flex;
		align-items: center;
	}

	.header-nav {
		display: flex;
		gap: var(--space-3);
	}

	.nav-btn {
		background: rgba(255, 255, 255, 0.1);
		border: 1px solid rgba(255, 255, 255, 0.2);
		color: var(--stone-light);
		padding: var(--space-2) var(--space-4);
		border-radius: var(--radius-md);
		font-size: var(--text-sm);
		font-weight: 600;
		cursor: pointer;
		transition: all 0.25s ease;
		backdrop-filter: blur(10px);
	}

	.nav-btn:hover {
		background: rgba(255, 255, 255, 0.2);
		border-color: rgba(255, 255, 255, 0.3);
		transform: translateY(-1px);
		box-shadow: 0 2px 8px rgba(45, 42, 38, 0.2);
	}

	.map-btn {
		background: rgba(107, 124, 50, 0.2);
		border-color: rgba(107, 124, 50, 0.3);
	}

	.map-btn:hover {
		background: rgba(107, 124, 50, 0.3);
		border-color: rgba(107, 124, 50, 0.4);
	}

	.top-btn {
		background: rgba(139, 105, 20, 0.2);
		border-color: rgba(139, 105, 20, 0.3);
	}

	.top-btn:hover {
		background: rgba(139, 105, 20, 0.3);
		border-color: rgba(139, 105, 20, 0.4);
	}

	/* Main Content - Warm Earth Tone Layout */
	main {
		background: linear-gradient(145deg, #f6f3eb, #ede8db);
		max-width: 70%; /* Changed from 1400px to 70% */
		margin: var(--space-6) auto; /* Reduced margin for more space */
		padding: var(--space-8);
		border-radius: var(--radius-lg);
		box-shadow: 0 6px 20px rgba(45, 42, 38, 0.15);
		flex: 1;
		/* Removed border for cleaner look */
	}

	/* Data Sections - Clean & Minimal */
	.data-section {
		background: rgba(244, 240, 230, 0.4);
		padding: var(--space-6);
		margin-bottom: var(--space-6);
		border-radius: var(--radius-lg);
		transition: all 0.25s ease;
		position: relative;
	}

	.data-section:not(:last-child)::after {
		content: '';
		position: absolute;
		bottom: calc(-1 * var(--space-3));
		left: 0;
		right: 0;
		height: 1px;
		background: linear-gradient(90deg, transparent, rgba(139, 105, 20, 0.3), transparent);
	}

	.data-section:hover {
		background: rgba(244, 240, 230, 0.6);
		transform: none;
		box-shadow: none;
	}

	section h2 {
		color: var(--stone-dark);
		font-size: var(--text-2xl);
		font-weight: 700;
		margin-bottom: var(--space-4);
		padding-bottom: var(--space-2);
		/* Removed border - clean typography */
		display: inline-block;
		text-shadow: 0 1px 2px rgba(45, 42, 38, 0.1);
	}

	section h3 {
		color: var(--stone-dark);
		font-size: var(--text-xl);
		font-weight: 700;
		margin-bottom: var(--space-3);
	}

	/* Hide data sections until they have data - but keep input, welcome, and recent searches sections visible */
	section:not(#location-input):not(#location-input-2):not(#welcome-section):not(#recent-searches):not(.has-data) {
		display: none;
	}

	/* Input Section - Warm & Inviting */
	#location-input {
		text-align: center;
		margin-bottom: var(--space-8);
		padding: var(--space-8);
		background: rgba(255, 255, 255, 0.8); /* Hierarchy background - most prominent */
		border-radius: var(--radius-lg);
		/* Removed border for cleaner look */
		box-shadow: 0 4px 12px rgba(139, 105, 20, 0.15); /* Cleaner shadow */
	}

	#location-input-2 {
		text-align: center;
		margin-bottom: var(--space-8);
		padding: var(--space-8);
		background: rgba(255, 255, 255, 0.8); /* Hierarchy background - most prominent */
		border-radius: var(--radius-lg);
		/* Removed border for cleaner look */
		box-shadow: 0 4px 12px rgba(139, 105, 20, 0.15); /* Cleaner shadow */
	}

	#location-input p {
		font-size: var(--text-lg);
		color: var(--stone-dark);
		margin-bottom: var(--space-6);
		font-weight: 600;
	}

	.input-container {
		display: flex;
		max-width: 500px;
		margin: 0 auto var(--space-4);
		gap: var(--space-2);
		justify-content: center;
		align-items: center;
	}

	#location-input-field {
		flex: 1;
		padding: var(--space-4);
		border: 2px solid var(--stone-mid);
		border-radius: var(--radius-md);
		font-size: var(--text-base);
		font-family: inherit;
		background: var(--cream);
		color: var(--stone-dark);
		transition: all 0.2s ease;
	}

	#location-input-field:focus {
		outline: none;
		border-color: var(--earth-warm);
		box-shadow: 0 0 0 3px rgba(139, 105, 20, 0.2);
	}

	#location-input-field-2 {
		flex: 1;
		padding: var(--space-4);
		border: 2px solid var(--stone-mid);
		border-radius: var(--radius-md);
		font-size: var(--text-base);
		font-family: inherit;
		background: var(--cream);
		color: var(--stone-dark);
		transition: all 0.2s ease;
	}

	.input-submit-btn {
		padding: var(--space-4);
		background: var(--earth-warm);
		color: var(--white);
		border: none;
		border-radius: var(--radius-md);
		cursor: pointer;
		transition: all 0.2s ease;
		font-weight: 600;
	}

	.input-submit-btn:hover {
		background: var(--rust-accent);
		transform: translateY(-1px);
	}

	button {
		padding: var(--space-4) var(--space-6);
		background: var(--sage-green);
		color: var(--white);
		border: none;
		border-radius: var(--radius-md);
		font-size: var(--text-base);
		font-weight: 600;
		cursor: pointer;
		transition: all 0.2s ease;
		box-shadow: 0 2px 4px rgba(45, 42, 38, 0.2);
	}

	button:hover {
		background: var(--earth-warm);
		transform: translateY(-1px);
		box-shadow: 0 4px 8px rgba(45, 42, 38, 0.3);
	}

	/* Data Lists - Field Notes Style */
	ul {
		list-style: none;
		padding: 0;
		margin: 0;
	}

	/* Two-Column Grid Layout for Data Sections */
	.data-grid {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: var(--space-6);
		margin-bottom: var(--space-8);
	}

	li {
		padding: var(--space-3) var(--space-4);
		background: rgba(255, 255, 255, 0.6); /* Lighter background - a touch darker than current */
		border: 1px solid rgba(139, 105, 20, 0.2); /* Small border around each item */
		border-radius: var(--radius-md);
		margin-bottom: var(--space-3);
		box-shadow: 0 1px 4px rgba(139, 105, 20, 0.08); /* Lighter shadow */
		transition: all 0.25s ease;
		position: relative;
	}

	li:hover {
		background: rgba(255, 255, 255, 0.8); /* Brighter hierarchy on hover */
		border-color: rgba(139, 105, 20, 0.3); /* Slightly stronger border on hover */
		box-shadow: 0 3px 8px rgba(139, 105, 20, 0.15); /* Lighter hover shadow */
	}

	li:before {
		content: '';
		position: absolute;
		left: 0;
		top: 0;
		bottom: 0;
		width: 4px;
		background: linear-gradient(180deg, var(--sage-green), var(--earth-warm));
		border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
		opacity: 0;
		transition: opacity 0.25s ease;
	}

	li:hover:before {
		opacity: 1;
	}

	/* Small Details & Timestamps - Clean Definition */
	li small,
	.timestamp,
	.observation-date,
	.spotted-date,
	.detail-text {
		font-size: var(--text-sm);
		color: var(--stone-mid) !important; /* Darker for better contrast */
		font-weight: 600; /* Bolder */
		padding: 2px 6px;
		border-radius: var(--radius-sm);
		display: inline-block;
		margin-top: var(--space-1);
	}

	/* Style any text that looks like "Spotted: date" or "Observed: date" */
	li p:last-child,
	li div:last-child {
		font-size: var(--text-sm);
		color: var(--stone-mid) !important;
		font-weight: 600;
		padding: 2px 6px;
		border-radius: var(--radius-sm);
		margin-top: var(--space-1);
	}

	.clickable-item {
		cursor: pointer;
	}

	/* Recent Searches & Featured Sites - NO WRAPPER! */
	#your-recent-searches,
	#community-recent-searches,
	#personal-searches,
	#community-searches {
		background: transparent; /* REMOVE the dark wrapper completely! */
		border-radius: var(--radius-lg);
		padding: var(--space-6); /* Keep some padding but less */
		margin: var(--space-4) var(--space-2); /* Reduce margins */
		/* Removed border and shadow for cleaner look */
	}

	.hotspot-card {
		background: rgba(255, 250, 240, 0.95); /* MUCH LIGHTER to contrast with dark panel */
		border: 1px solid rgba(139, 105, 20, 0.3); /* Slightly stronger border */
		border-radius: var(--radius-lg);
		padding: var(--space-8); /* MUCH MORE PADDING - real breathing room! */
		margin: var(--space-6) var(--space-2) var(--space-6) var(--space-2); /* WIDER cards - less side margin */
		cursor: pointer;
		transition: all 0.3s ease;
		box-shadow: 0 6px 20px rgba(139, 105, 20, 0.2); /* Stronger shadow */
		position: relative;
		overflow: hidden;
	}
	
	.hotspot-card::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		height: 3px;
		background: linear-gradient(90deg, var(--sage-green), var(--earth-warm), var(--rust-accent));
		opacity: 0.8;
	}

	.hotspot-card:hover {
		transform: translateY(-4px);
		box-shadow: 0 8px 24px rgba(139, 105, 20, 0.25);
		background: rgba(245, 240, 225, 0.9); /* Single, lighter hover background */
		border-color: rgba(139, 105, 20, 0.4);
	}
	
	.hotspot-card:hover::before {
		opacity: 1;
		height: 4px;
	}

	/* Hotspot Card Content Styling - With REAL Padding */
	.hotspot-card .hotspot-header {
		padding: var(--space-4) var(--space-2) var(--space-3) var(--space-2); /* MUCH more padding around header */
		display: flex;
		align-items: flex-start;
	}

	.hotspot-card h4 {
		color: var(--stone-dark);
		font-size: var(--text-lg);
		font-weight: 700;
		margin: 0 0 var(--space-1) 0;
		line-height: 1.3;
	}

	.hotspot-card .hotspot-subtitle {
		color: var(--stone-mid);
		font-size: var(--text-sm);
		font-style: italic;
		margin-bottom: var(--space-3);
		line-height: 1.4;
		padding-right: var(--space-2); /* Padding for subtitle */
	}

	.hotspot-card .hotspot-emoji {
		font-size: var(--text-xl);
		margin-right: var(--space-4); /* EVEN MORE space after emoji */
		margin-left: var(--space-2); /* Space before emoji too */
		display: inline-block;
		filter: drop-shadow(0 1px 2px rgba(139, 105, 20, 0.3));
		flex-shrink: 0;
	}

	.hotspot-card .hotspot-features {
		padding: var(--space-3) var(--space-2) var(--space-2) var(--space-2); /* MORE padding around features */
	}

	.hotspot-card .feature-tag {
		display: inline-block;
		background: rgba(139, 105, 20, 0.12);
		color: var(--stone-dark);
		padding: var(--space-1) var(--space-2); /* More padding inside tags */
		border-radius: var(--radius-sm);
		font-size: var(--text-xs);
		font-weight: 600;
		margin-right: var(--space-2); /* More margin between tags */
		margin-bottom: var(--space-2);
	}

	/* Recent Search Items - Card Style */
	.search-item {
		background: rgba(255, 250, 240, 0.9); /* MUCH LIGHTER to contrast with dark panel */
		border: 1px solid rgba(107, 124, 50, 0.3); /* Stronger sage green definition */
		border-radius: var(--radius-md);
		padding: var(--space-3) var(--space-4);
		margin: var(--space-4) var(--space-5) var(--space-4) var(--space-5); /* Much bigger margins for breathing room */
		cursor: pointer;
		transition: all 0.25s ease;
		box-shadow: 0 4px 12px rgba(107, 124, 50, 0.2); /* Stronger shadow */
		display: flex;
		justify-content: space-between;
		align-items: center;
		position: relative;
		overflow: hidden;
	}

	.search-item::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		bottom: 0;
		width: 3px;
		background: linear-gradient(180deg, var(--sage-green), var(--earth-warm));
		opacity: 0.7;
	}

	.search-item:hover {
		transform: translateX(var(--space-2)) translateY(-1px);
		box-shadow: 0 4px 16px rgba(107, 124, 50, 0.2);
		background: rgba(240, 235, 220, 0.85); /* Single, lighter hover background */
		border-color: rgba(107, 124, 50, 0.4);
	}

	.search-item:hover::before {
		opacity: 1;
		width: 4px;
	}

	.search-location {
		font-weight: 600;
		color: var(--stone-dark);
		font-size: var(--text-sm);
	}

	.search-time {
		font-size: var(--text-xs);
		color: var(--stone-mid);
		font-style: italic;
		opacity: 0.8;
	}

	/* Clear Recent Button */
	.clear-searches {
		background: linear-gradient(135deg, var(--rust-accent), #8b4513);
		color: white;
		border: none;
		padding: var(--space-2) var(--space-4);
		border-radius: var(--radius-md);
		font-size: var(--text-sm);
		font-weight: 600;
		cursor: pointer;
		margin-top: var(--space-3);
		transition: all 0.25s ease;
		box-shadow: 0 2px 6px rgba(160, 82, 45, 0.3);
	}

	.clear-searches:hover {
		transform: translateY(-1px);
		box-shadow: 0 4px 12px rgba(160, 82, 45, 0.4);
		background: linear-gradient(135deg, #b8662d, #a0522d);
	}

	/* Map Section */
	#leaflet-map {
		width: 100%;
		height: 400px;
		border-radius: var(--radius-lg);
		border: 2px solid var(--stone-mid);
		box-shadow: 0 4px 12px rgba(45, 42, 38, 0.2);
		overflow: hidden;
		position: relative;
		box-sizing: border-box;
		z-index: 1; /* Ensure map stays below header */
	}

	/* Force Leaflet to fill container properly */
	#leaflet-map .leaflet-container {
		width: 100% !important;
		height: 100% !important;
		background: #e0e0e0 !important;
		z-index: 1; /* Ensure map container stays below header */
	}

	#leaflet-map .leaflet-map-pane {
		width: 100% !important;
		height: 100% !important;
		z-index: 1; /* Ensure map pane stays below header */
	}

	/* Map Text Styling - Dark and Readable */
	#map h2 {
		color: var(--stone-dark) !important;
		font-weight: 700 !important;
		text-shadow: none !important;
	}

	#map p {
		color: var(--stone-dark) !important;
		font-weight: 600 !important;
	}

	.map-summary {
		color: var(--stone-dark) !important;
		font-weight: 600 !important;
	}

	/* Custom Map Emoji Pins - GORGEOUS! */
	.custom-emoji-icon {
		width: 32px !important;
		height: 32px !important;
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		font-size: 20px;
		font-weight: bold;
		border: 3px solid var(--white);
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
		cursor: pointer;
		transition: all 0.3s ease;
		transform: translateZ(0);
	}

	.custom-emoji-icon:hover {
		transform: translateY(-3px) scale(1.1);
		box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
		border-width: 4px;
	}

	/* Emoji-specific backgrounds */
	.emoji-bird {
		background: linear-gradient(135deg, #87CEEB, #4682B4);
		border-color: #1E90FF;
	}

	.emoji-insect {
		background: linear-gradient(135deg, #9ACD32, #228B22);
		border-color: #32CD32;
	}

	.emoji-archaeology {
		background: linear-gradient(135deg, #DEB887, #8B7355);
		border-color: #D2691E;
	}

	.emoji-park {
		background: linear-gradient(135deg, #228B22, #006400);
		border-color: #00FF00;
	}

	.emoji-fossil {
		background: linear-gradient(135deg, #F5DEB3, #DEB887);
		border-color: #D2691E;
	}

	.emoji-earthquake {
		background: linear-gradient(135deg, #FF6347, #DC143C);
		border-color: #FF4500;
	}

	/* Screen Reader Only */
	.sr-only {
		position: absolute;
		width: 1px;
		height: 1px;
		padding: 0;
		margin: -1px;
		overflow: hidden;
		clip: rect(0, 0, 0, 0);
		white-space: nowrap;
		border: 0;
	}

	/* Welcome Section */
	.hero-section {
		text-align: center;
		margin-bottom: var(--space-8);
		padding: var(--space-8);
		background: linear-gradient(135deg, var(--sage-green), var(--earth-warm));
		color: var(--white);
		border-radius: var(--radius-lg);
		box-shadow: 0 4px 16px rgba(45, 42, 38, 0.2);
	}

	.hero-section h1 {
		font-size: var(--text-4xl);
		font-weight: 800;
		margin-bottom: var(--space-4);
		text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
	}

	.hero-section p {
		font-size: var(--text-lg);
		margin-bottom: var(--space-6);
		opacity: 0.95;
	}

	.location-badge {
		display: inline-flex;
		align-items: center;
		gap: var(--space-2);
		background: rgba(255, 255, 255, 0.2);
		backdrop-filter: blur(10px);
		border: 1px solid rgba(255, 255, 255, 0.3);
		border-radius: var(--radius-xl);
		padding: var(--space-3) var(--space-6);
		font-weight: 600;
	}

	/* Footer - Grounded & Substantial */
	footer {
		background: var(--stone-dark);
		color: var(--stone-light);
		padding: var(--space-16) 0 var(--space-8);
		margin-top: auto;
	}

	.footer-content {
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 var(--space-4);
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
		gap: var(--space-8);
		text-align: left;
	}

	.footer-section h3 {
		color: var(--white);
		font-size: var(--text-xl);
		font-weight: 700;
		margin-bottom: var(--space-4);
		border-bottom: 2px solid var(--rust-accent);
		padding-bottom: var(--space-2);
		display: inline-block;
	}

	.footer-section p {
		color: var(--stone-light);
		line-height: 1.7;
		margin-bottom: var(--space-4);
	}

	.footer-section ul {
		list-style: none;
		padding: 0;
		margin: 0;
	}

	.footer-section li {
		color: var(--stone-light);
		padding: var(--space-2) 0;
		border-bottom: 1px solid rgba(244, 242, 237, 0.2);
	}

	.footer-section strong {
		color: var(--white);
		font-weight: 600;
	}

	/* General Sections */
	section {
		margin-bottom: var(--space-8);
		padding: var(--space-6);
		background: rgba(244, 240, 230, 0.4);
		border-radius: var(--radius-lg);
		transition: all 0.25s ease;
		position: relative;
	}

	section:not(.data-section):not(:last-child)::after {
		content: '';
		position: absolute;
		bottom: calc(-1 * var(--space-3));
		left: 0;
		right: 0;
		height: 1px;
		background: linear-gradient(90deg, transparent, rgba(139, 105, 20, 0.3), transparent);
	}

	/* Weather Section - Full Width */
	#weather {
		width: 100% !important;
		max-width: 100% !important;
		background: #fbf9f6 !important;
		margin-bottom: var(--space-6);
		padding: var(--space-6);
		border-radius: var(--radius-lg);
		box-shadow: 0 4px 12px rgba(139, 105, 20, 0.15);
		border: 1px solid rgba(139, 105, 20, 0.1);
		text-align: center;
	}

	#weather h2 {
		text-align: center;
		margin-bottom: var(--space-4);
	}

	#weather #weather-data {
		text-align: center;
		max-width: 600px;
		margin: 0 auto;
	}

	/* Second Location Input Section */
	.second-location-input {
		background: rgba(255, 255, 255, 0.9);
		border-radius: var(--radius-lg);
		padding: var(--space-6);
		margin: var(--space-8) 0;
		text-align: center;
		box-shadow: 0 4px 12px rgba(139, 105, 20, 0.15);
		border: 1px solid rgba(139, 105, 20, 0.1);
	}

	.second-location-input h3 {
		color: var(--stone-dark);
		font-size: var(--text-xl);
		margin-bottom: var(--space-4);
		font-weight: 600;
	}

	.second-location-input p {
		color: var(--stone-mid);
		margin-bottom: var(--space-4);
		font-size: var(--text-base);
	}

	.random-locations {
		display: flex;
		flex-wrap: wrap;
		gap: var(--space-3);
		justify-content: center;
		margin-top: var(--space-4);
	}

	.random-location-btn {
		background: linear-gradient(135deg, var(--sage-green), var(--earth-warm));
		color: white;
		border: none;
		padding: var(--space-2) var(--space-4);
		border-radius: var(--radius-md);
		font-size: var(--text-sm);
		font-weight: 600;
		cursor: pointer;
		transition: all 0.25s ease;
		box-shadow: 0 2px 6px rgba(107, 124, 50, 0.3);
	}

	.random-location-btn:hover {
		transform: translateY(-1px);
		box-shadow: 0 4px 12px rgba(107, 124, 50, 0.4);
		background: linear-gradient(135deg, #7a8c3a, #9b7a1a);
	}

	/* Mobile Responsive */
	@media (max-width: 768px) {
		:root {
			--space-4: 0.75rem;
			--space-6: 1.25rem;
			--space-8: 1.5rem;
			--space-12: 2rem;
			--space-16: 2.5rem;
		}

		.header-content {
			padding: 0 var(--space-3);
		}

		main {
			max-width: 95% !important; /* 95% width on mobile for better readability */
			margin: var(--space-4) auto; /* Center with auto margins */
			padding: var(--space-4); /* Reduced padding */
			border-radius: var(--radius-md); /* Smaller border radius */
		}

		section {
			padding: var(--space-4); /* Reduced section padding */
			margin-bottom: var(--space-6); /* Reduced section margins */
			width: 100%; /* Full width within the 90% container */
		}

		section h2 {
			font-size: var(--text-xl); /* Smaller headings on mobile */
		}

		section h3 {
			font-size: var(--text-lg); /* Smaller subheadings on mobile */
		}

		.input-container {
			flex-direction: column;
			max-width: 100%; /* Full width within the 90% container */
		}

		#location-input {
			padding: var(--space-6); /* Reduced padding */
		}

		#location-input-field {
			padding: var(--space-4); /* Larger touch target */
			font-size: var(--text-base); /* Readable font size */
		}

		#location-input-2 {
			padding: var(--space-6); /* Reduced padding */
		}

		#location-input-2-field {
			padding: var(--space-4); /* Larger touch target */
			font-size: var(--text-base); /* Readable font size */
		}

		/* Fix all the wrapper margins that are making content narrow */
		#your-recent-searches,
		#community-recent-searches,
		#personal-searches,
		#community-searches {
			padding: var(--space-3); /* Much less padding */
			margin: var(--space-2) 0; /* Minimal margins */
		}

		.hotspot-card {
			margin: var(--space-3) 0; /* Much smaller margins */
			padding: var(--space-4); /* Reduced padding */
		}

		.search-item {
			margin: var(--space-2) 0; /* Much smaller margins */
			padding: var(--space-3) var(--space-4); /* Reduced padding */
		}

		/* Make buttons larger for touch */
		button {
			padding: var(--space-4) var(--space-6);
			min-height: 44px; /* Minimum touch target size */
		}

		.hero-section h1 {
			font-size: var(--text-3xl);
		}

		/* Make navigation buttons smaller on mobile */
		.nav-btn {
			padding: var(--space-1) var(--space-3);
			font-size: var(--text-xs);
			min-height: 36px; /* Minimum touch target */
		}

		.header-nav {
			gap: var(--space-2);
		}

		/* Improve list readability on mobile */
		li {
			padding: var(--space-4); /* Larger touch targets */
			margin-bottom: var(--space-3);
		}

		/* Adjust footer for mobile */
		.footer-content {
			grid-template-columns: 1fr; /* Single column on mobile */
			gap: var(--space-6);
			padding: 0 var(--space-3);
		}

		/* Mobile responsive for data grid */
		.data-grid {
			grid-template-columns: 1fr;
			gap: var(--space-4);
		}

		.data-count {
			min-width: auto;
			width: 100%;
			padding: var(--space-3);
		}

		.count-number {
			font-size: var(--text-xl);
		}
	}
</style>
