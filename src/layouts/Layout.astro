---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

export interface Props {
	title?: string;
	description?: string;
	currentPage?: string;
}

const { 
	title = "Nature Near Me",
	description = "Discover earthquakes, bird sightings, archaeological sites, and weather near you. Interactive map with real-time nature data from USGS, eBird, and more.",
	currentPage = "home"
} = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="generator" content={Astro.generator} />
		
		<!-- SEO Keywords and Additional Meta Tags -->
		<meta name="keywords" content="nature, wildlife, earthquakes, bird watching, archaeology, national parks, fossils, weather, interactive map, USGS, eBird, outdoor activities" />
		<meta name="author" content="Earth, Uncovered by Curiosity" />
		<meta name="robots" content="index, follow" />
		<link rel="canonical" href="https://naturenear.me/" />

		<!-- Resource hints for better performance -->
		<link rel="preload" href="/images/logo.png" as="image" />

		<!-- Additional Social Media Tags -->
		<meta property="og:site_name" content="Earth, Uncovered by Curiosity" />
		<meta property="og:locale" content="en_US" />

		<!-- Structured Data for Rich Results -->
		<script type="application/ld+json">
			{
				"@context": "https://schema.org",
				"@type": "WebApplication",
				"name": "Nature Near Me",
				"description": "Interactive web application for discovering earthquakes, bird sightings, archaeological sites, fossils, national parks, and weather data near any location.",
				"url": "https://naturenear.me/",
				"applicationCategory": "EducationalApplication",
				"operatingSystem": "Web Browser",
				"offers": {
					"@type": "Offer",
					"price": "0",
					"priceCurrency": "USD"
				},
				"creator": {
					"@type": "Organization",
					"name": "Earth, Uncovered by Curiosity"
				},
				"keywords": [
					"nature",
					"wildlife",
					"earthquakes",
					"bird watching",
					"archaeology",
					"national parks",
					"fossils",
					"weather",
					"interactive map"
				]
			}
		</script>

		<!-- Favicon and App Icons -->
		<link rel="icon" type="image/x-icon" href="/images/favicon.ico" />
		<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" />

		<!-- Open Graph / Social Media -->
		<meta property="og:type" content="website" />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content="https://naturenear.me/images/logo.webp" />
		<meta property="og:url" content="https://naturenear.me/" />

		<!-- Leaflet CSS for interactive maps -->
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
			integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
			crossorigin=""/>
		<script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
			integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
			crossorigin=""></script>

		<!-- Custom Styles -->
		<link rel="stylesheet" href="/styles.css" />

		<!-- Analytics - load after everything else -->
		<script>
			window.addEventListener('load', function() {
				setTimeout(function() {
					var script = document.createElement('script');
					script.defer = true;
					script.src = 'https://cloud.umami.is/script.js';
					script.setAttribute('data-website-id', '50cb3f8f-d602-4968-858d-9c3a30b74715');
					document.head.appendChild(script);
				}, 3000);
			});
		</script>

		<title>{title}</title>
		<meta name="description" content={description} />
		
		<!-- Critical performance optimizations -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="theme-color" content="#2d2a26" />

		<style>
			/* Critical above-the-fold CSS to prevent layout shift */
			body { 
				margin: 0; 
				background: transparent;
				min-height: 100vh;
				display: flex;
				flex-direction: column;
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
			}
			header { 
				min-height: 80px; 
				background: #ffffff;
				flex-shrink: 0;
				border-bottom: 3px solid #2d2a26;
			}
			main { 
				max-width: 70%;
				margin: 2rem auto;
				flex: 1;
				background: rgba(255, 255, 255, 0.9);
				border-radius: 8px;
			}
			footer {
				min-height: 200px;
				background: #2d2a26;
				margin-top: auto;
				flex-shrink: 0;
			}
			.logo-image {
				width: 40px !important;
				height: 40px !important;
				display: block;
			}
			.site-logo-text {
				font-family: inherit;
				font-size: 24px;
				font-weight: 800;
				color: #2d2a26;
				line-height: 1.2;
			}
		</style>
		<script define:vars={{ currentPage }}>
			// Background setup based on current page
			document.addEventListener('DOMContentLoaded', function() {
				// All pages: Random nature photos
				const backgroundImages = [
					'/images/aerial-forest-landscape.webp',
					'/images/coastal-cliffs-ocean.webp',
					'/images/desert-canyon-formation.webp',
					'/images/earth-crust.webp',
					'/images/lake-mountain-reflection.webp',
					'/images/mountain-valley-vista.webp'
				];
				
				// Select a random image
				const randomImage = backgroundImages[Math.floor(Math.random() * backgroundImages.length)];
				
				// Set the background image with fixed attachment for all pages
				document.body.style.backgroundImage = `url('${randomImage}')`;
				document.body.style.backgroundAttachment = 'fixed';
				document.body.style.backgroundSize = 'cover';
				document.body.style.backgroundPosition = 'center';
				document.body.style.backgroundRepeat = 'no-repeat';
				
				if (currentPage === 'home') {
					// Home page: Add special class for overlay
					document.body.classList.add('home-page');
					console.log('üåÑ Home page: Set background image:', randomImage);
				} else {
					// Interior pages: Add class for different overlay
					document.body.classList.add('interior-page');
					console.log('üè† Interior page: Set background image:', randomImage);
				}
			});
		</script>
	</head>
	<body>
		<Header currentPage={currentPage} />
		<slot />
		<Footer />
	</body>
</html>

<style is:global>
	/* OUTDOORS DESIGN SYSTEM - Strong, Outdoorsy, Data-Focused */
	:root {
		/* Earth Tone Color Palette */
		--stone-dark: #2d2a26;
		--stone-mid: #5a4f42;
		--earth-warm: #8b6914;
		--sage-green: #6b7c32;
		--rust-accent: #a0522d;
		
		/* Light & Airy */
		--stone-light: #f4f2ed;
		--cream: #faf8f3;
		--white: #ffffff;
		
		/* Typography Scale */
		--text-xs: 0.75rem;
		--text-sm: 0.875rem;
		--text-base: 1rem;
		--text-lg: 1.125rem;
		--text-xl: 1.25rem;
		--text-2xl: 1.5rem;
		--text-3xl: 1.875rem;
		--text-4xl: 2.25rem;
		
		/* Spacing Scale */
		--space-1: 0.25rem;
		--space-2: 0.5rem;
		--space-3: 0.75rem;
		--space-4: 1rem;
		--space-6: 1.5rem;
		--space-8: 2rem;
		--space-12: 3rem;
		--space-16: 4rem;
		--space-20: 5rem;
		
		/* Border Radius */
		--radius-sm: 0.125rem;
		--radius-md: 0.375rem;
		--radius-lg: 0.5rem;
		--radius-xl: 0.75rem;
	}

	/* Base Styles - Clean Foundation */
	* {
		box-sizing: border-box;
	}

	/* Global Input Styles - No Borders */
	input[type="text"] {
		border: none !important;
		outline: none !important;
		box-shadow: none !important;
	}

	/* Override input container border */
	.input-container {
		border: none !important;
	}

	.input-container:hover {
		border-color: transparent !important;
	}

	body {
		background: transparent; /* Allow nature background to show through */
		color: var(--stone-dark);
		font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
		font-size: var(--text-base);
		line-height: 1.6;
		margin: 0;
		min-height: 100vh;
		display: flex;
		flex-direction: column;
		background-attachment: fixed !important;
		background-size: cover !important;
		background-position: center !important;
		background-repeat: no-repeat !important;
		position: relative;
	}

	/* Background overlay for better text readability - only for home page */
	body.home-page::before {
		content: '';
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: rgba(107, 165, 73, 0.2); /* Lighter semi-transparent green overlay */
		z-index: -1;
		pointer-events: none;
	}

	/* Background overlay for interior pages - darker beige overlay for better readability */
	body.interior-page::before {
		content: '';
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: rgba(232, 213, 196, 0.7); /* Semi-transparent beige overlay */
		z-index: -1;
		pointer-events: none;
	}

	/* Header - Strong & Confident with Footer Connection */
	header {
		background: var(--stone-dark);
		color: var(--stone-light);
		border-bottom: 3px solid var(--earth-warm);
		padding: var(--space-4) 0;
		/* position: sticky; */
		top: 0;
		z-index: 100;
		box-shadow: 0 2px 8px rgba(45, 42, 38, 0.3);
	}

	.header-content {
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 var(--space-4);
		display: flex;
		align-items: center;
		justify-content: space-between;
	}

	.header-left {
		display: flex;
		align-items: center;
		gap: var(--space-3);
	}

	.logo-container {
		display: flex;
		align-items: center;
		gap: var(--space-3);
		text-decoration: none;
	}

	.logo-image {
		width: 32px;
		height: 32px;
		filter: drop-shadow(0 2px 4px rgba(245, 242, 237, 0.4));
		object-fit: contain;
	}

	.site-logo-text {
		font-size: var(--text-2xl);
		font-weight: 800;
		color: #b47b24;
		letter-spacing: -0.025em;
		line-height: 1.2;
	}

	/* Navigation - Show the nav buttons */
	.header-right {
		display: flex;
		align-items: center;
	}

	.header-nav {
		display: flex;
		gap: var(--space-3);
	}

	.nav-btn {
		color: var(--stone-light);
		font-size: var(--text-sm);
		font-weight: 500;
		cursor: pointer;
		transition: color 0.2s ease;
		text-decoration: none;
		padding: var(--space-1) var(--space-2);
	}

	.nav-btn:hover {
		color: #d4a373;
	}

	.map-btn:hover {
		color: #8b6914;
	}

	.top-btn:hover {
		color: #8b6914;
	}

	/* Main Content - Clean Layout */
	main {
		background: transparent !important;
		max-width: 70% !important; /* Changed from 1400px to 70% */
		margin: var(--space-6) auto !important; /* Reduced margin for more space */
		padding: var(--space-8) !important;
		border-radius: var(--radius-lg) !important;
		box-shadow: none !important;
		flex: 1 !important;
		border: none !important;
	}

	/* Data Sections - Clean & Minimal */
	.data-section {
		background: rgba(250, 248, 243, 0.95);
		padding: var(--space-6);
		margin-bottom: var(--space-6);
		border-radius: var(--radius-lg);
		transition: all 0.25s ease;
		position: relative;
		border: 1px solid rgba(139, 105, 20, 0.1);
		box-shadow: 0 2px 8px rgba(139, 105, 20, 0.1);
	}

	.data-section:not(:last-child)::after {
		content: '';
		position: absolute;
		bottom: calc(-1 * var(--space-3));
		left: 0;
		right: 0;
		height: 1px;
		background: linear-gradient(90deg, transparent, rgba(139, 105, 20, 0.3), transparent);
	}

	.data-section:hover {
		/* background: rgba(244, 240, 230, 0.6); */
		transform: none;
		box-shadow: none;
	}

	.data-section p {color: black;}

	section h2 {
		color: var(--stone-dark) !important; /* Brown color for all section h2 */
		font-size: var(--text-2xl);
		font-weight: 900;
		margin-bottom: var(--space-4);
		padding-bottom: var(--space-2);
		/* Removed border - clean typography */
		display: inline-block;
		text-shadow: 0 1px 2px rgba(45, 42, 38, 0.2);
		font-family: 'Arial Black', 'Helvetica Bold', sans-serif;
		letter-spacing: 0.03em;
		text-transform: uppercase;
	}

	/* Brown heading colors for cards that have datasets that post location load */
	#species h2,
	#insects h2,
	#heritage h2,
	#parks h2,
	#fossils h2,
	#earthquakes h2,
	#weather h2 {
		color: #8B4513 !important; /* Brown color for location-dependent data cards */
		text-shadow: 0 1px 2px rgba(139, 69, 19, 0.2);
	}

	/* Override Tailwind heading colors with brown */
	h1, h2, h3, h4, h5, h6 {
		color: var(--stone-dark) !important;
	}

	/* Specific overrides for Tailwind text color classes */
	.text-gray-900, .text-gray-800, .text-gray-700, .text-gray-600 {
		color: var(--stone-dark) !important;
	}

	/* Ensure all headings use brown color */
	.text-4xl, .text-2xl, .text-xl, .text-lg {
		color: var(--stone-dark) !important;
	}

	section h3 {
		color: var(--stone-dark) !important; /* Brown color for all section h3 */
		font-size: var(--text-xl);
		font-weight: 700;
		margin-bottom: var(--space-3);
	}

	/* Hide data sections until they have data - but keep input, welcome, and recent searches sections visible */
	section:not(#location-input):not(#welcome-section):not(#recent-searches):not(.has-data) {
		display: none;
	}

	/* Input Section - Warm & Inviting */
	#location-input {
		text-align: center !important;
		margin-bottom: var(--space-8) !important;
		padding: var(--space-8) !important;
		background: #2e2a27 !important; /* Dark brown background */
		border-radius: var(--radius-lg) !important;
		border: none !important;
		box-shadow: none !important;
		position: relative !important;
		z-index: 10 !important;
	}

	#location-input-2 {
		text-align: center;
		margin-bottom: var(--space-8);
		padding: var(--space-8);
		background: transparent; /* Transparent to show brown wrapper */
		border-radius: var(--radius-lg);
		border: none;
		box-shadow: none;
	}

	#location-input p {
		font-size: var(--text-lg);
		color: rgba(250, 248, 243, 0.9);
		margin-bottom: var(--space-6);
		font-weight: 600;
	}

	/* Intro Message Styling */
	.intro-message {
		background: #2e2a27 !important; /* Dark brown background */
		padding: var(--space-6) !important;
		border-radius: var(--radius-lg) !important;
		margin-bottom: var(--space-6) !important;
		border: none !important;
		box-shadow: none !important;
		position: relative !important;
	}

	/* Input Container - Brown with Centered Input - NO BORDER */
	.input-container {
		position: relative;
		margin: var(--space-6) auto;
		max-width: 500px;
		background: #2e2a27;
		padding: var(--space-6);
		border-radius: var(--radius-lg);
		border: none;
		box-shadow: none;
		text-align: center;
		transition: all 0.3s ease;
		cursor: pointer;
	}

	.input-container:hover {
		transform: translateY(-4px);
		box-shadow: none;
		border-color: transparent;
		background: #2e2a27;
	}

	.intro-message h2 {
		color: rgba(250, 248, 243, 0.95) !important; /* Beige color for intro message headings */
		font-size: var(--text-3xl);
		font-weight: 900;
		margin-bottom: var(--space-4);
		text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
		font-family: 'Arial Black', 'Helvetica Bold', sans-serif;
		letter-spacing: 0.05em;
		text-transform: uppercase;
		position: relative;
	}

	.intro-message p {
		color: rgba(250, 248, 243, 0.9) !important; /* Beige color for intro message paragraphs */
		font-size: var(--text-lg);
		line-height: 1.7;
		margin-bottom: var(--space-4);
		font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		font-weight: 500;
	}

	.intro-message p:last-child {
		margin-bottom: 0;
		font-style: italic;
		opacity: 0.8;
	}

	/* Input Container - Brown with Centered Input */
	.input-container {
		position: relative;
		margin: var(--space-6) auto;
		max-width: 500px;
		background: #2e2a27;
		padding: var(--space-6);
		border-radius: var(--radius-lg);
		border: none;
		box-shadow: none;
		text-align: center;
		transition: all 0.3s ease;
		cursor: pointer;
	}

	.input-container:hover {
		transform: translateY(-4px);
		box-shadow: none;
		border-color: transparent;
		background: #2e2a27;
	}

	#location-input-field {
		background: rgba(107, 124, 50, 0.9) !important;
		border: none !important;
		outline: none !important;
		box-shadow: none !important;
		color: rgba(244, 242, 237, 0.8) !important;
		font-family: 'Courier New', monospace !important;
		font-weight: 600 !important;
		letter-spacing: 0.05em !important;
		width: 100% !important;
		max-width: 400px !important;
		margin: 0 auto !important;
		display: block !important;
		padding: var(--space-4) !important;
		border-radius: var(--radius-md) !important;
		font-size: var(--text-base) !important;
		transition: all 0.2s ease !important;
	}

	#location-input-field:focus {
		outline: none !important;
		border: none !important;
		box-shadow: none !important;
	}

	#location-input-field-2 {
		flex: 1;
		padding: var(--space-4);
		border: none;
		border-radius: var(--radius-md);
		font-size: var(--text-base);
		font-family: inherit;
		background: var(--cream);
		color: var(--stone-dark);
		transition: all 0.2s ease;
	}

	.input-submit-btn {
		background: linear-gradient(135deg, var(--sage-green), #8f9f4a);
		border: 2px solid var(--sage-green);
		color: var(--stone-light);
		font-weight: 700;
		text-transform: uppercase;
		letter-spacing: 0.1em;
		font-family: 'Arial Black', sans-serif;
		transition: all 0.3s ease;
		position: relative;
		overflow: hidden;
		padding: var(--space-4);
		border-radius: var(--radius-md);
		min-width: 60px;
		height: 44px;
		display: flex;
		align-items: center;
		justify-content: center;
		flex-shrink: 0; /* Prevent button from shrinking */
		margin: 0; /* Remove any margin */
		align-self: center; /* Ensure vertical centering */
	}

	.input-submit-btn:hover {
		background: linear-gradient(135deg, #8f9f4a, var(--sage-green));
		transform: translateY(-2px);
		box-shadow: 0 6px 20px rgba(107, 124, 50, 0.4);
	}

	.input-submit-btn::before {
		content: '';
		position: absolute;
		top: 0;
		left: -100%;
		width: 100%;
		height: 100%;
		background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
		transition: left 0.5s ease;
	}

	.input-submit-btn:hover::before {
		left: 100%;
	}

	/* Use My Location Button */
	#location-input button[onclick="useGeolocation()"] {
		background: linear-gradient(135deg, var(--sage-green), #8f9f4a);
		color: var(--stone-light);
		border: 2px solid var(--sage-green);
		font-family: 'Arial Black', sans-serif;
		font-weight: 700;
		text-transform: uppercase;
		letter-spacing: 0.1em;
		transition: all 0.3s ease;
		box-shadow: 0 4px 12px rgba(107, 124, 50, 0.3);
		position: relative;
		overflow: hidden;
		padding: var(--space-4) var(--space-6);
		border-radius: var(--radius-md);
		font-size: var(--text-base);
		cursor: pointer;
	}

	#location-input button[onclick="useGeolocation()"]:hover {
		background: linear-gradient(135deg, #8f9f4a, var(--sage-green));
		transform: translateY(-2px);
		box-shadow: 0 6px 20px rgba(107, 124, 50, 0.4);
		border-color: var(--sage-green);
	}

	#location-input button[onclick="useGeolocation()"]::before {
		content: '';
		position: absolute;
		top: 0;
		left: -100%;
		width: 100%;
		height: 100%;
		background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
		transition: left 0.5s ease;
	}

	#location-input button[onclick="useGeolocation()"]:hover::before {
		left: 100%;
	}

	/* Data Lists - Field Notes Style */
	ul {
		list-style: none;
		padding: 0;
		margin: 0;
	}

	/* Two-Column Grid Layout for Data Sections */
	.data-grid {
		display: grid !important;
		grid-template-columns: 50% 50% !important;
		grid-auto-rows: auto !important;
		grid-auto-flow: row !important;
		gap: var(--space-6);
		margin-bottom: var(--space-8);
		max-width: none !important;
		width: 100% !important;
	}

	li {
		padding: var(--space-3) var(--space-4);
		background: rgba(255, 255, 255, 0.6); /* Lighter background - a touch darker than current */
		border: 1px solid rgba(139, 105, 20, 0.2); /* Small border around each item */
		border-radius: var(--radius-md);
		margin-bottom: var(--space-3);
		box-shadow: 0 1px 4px rgba(139, 105, 20, 0.08); /* Lighter shadow */
		transition: all 0.25s ease;
		position: relative;
	}

	li:hover {
		background: rgba(255, 255, 255, 0.8); /* Brighter hierarchy on hover */
		border-color: rgba(139, 105, 20, 0.3); /* Slightly stronger border on hover */
		box-shadow: 0 3px 8px rgba(139, 105, 20, 0.15); /* Lighter hover shadow */
	}

	li:before {
		content: '';
		position: absolute;
		left: 0;
		top: 0;
		bottom: 0;
		width: 4px;
		background: linear-gradient(180deg, var(--sage-green), var(--earth-warm));
		border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
		opacity: 0;
		transition: opacity 0.25s ease;
	}

	li:hover:before {
		opacity: 1;
	}

	/* Small Details & Timestamps - Clean Definition */
	li small,
	.timestamp,
	.observation-date,
	.spotted-date,
	.detail-text {
		font-size: var(--text-sm);
		color: var(--stone-mid) !important; /* Darker for better contrast */
		font-weight: 600; /* Bolder */
		padding: 2px 6px;
		border-radius: var(--radius-sm);
		display: inline-block;
		margin-top: var(--space-1);
	}

	/* Style any text that looks like "Spotted: date" or "Observed: date" */
	li p:last-child,
	li div:last-child {
		font-size: var(--text-sm);
		color: var(--stone-mid) !important;
		font-weight: 600;
		padding: 2px 6px;
		border-radius: var(--radius-sm);
		margin-top: var(--space-1);
	}

	.clickable-item {
		cursor: pointer;
	}

	/* Recent Searches & Featured Sites - NO WRAPPER! */
	#your-recent-searches,
	#community-recent-searches,
	#personal-searches,
	#community-searches {
		background: transparent; /* REMOVE the dark wrapper completely! */
		border-radius: var(--radius-lg);
		padding: var(--space-6); /* Keep some padding but less */
		margin: var(--space-4) var(--space-2); /* Reduce margins */
		/* Removed border and shadow for cleaner look */
	}

	.hotspot-card {
		display: block;
		background: linear-gradient(145deg, #f8f6f0 0%, #f0ede6 100%);
		border: 2px solid rgba(139, 105, 20, 0.15);
		border-radius: var(--radius-xl);
		padding: var(--space-4);
		margin: var(--space-3);
		text-decoration: none;
		color: var(--stone-dark);
		transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
		position: relative;
		overflow: hidden;
		text-align: center;
		box-shadow: 0 8px 24px rgba(139, 105, 20, 0.08);
		min-height: 160px;
		cursor: pointer;
		backdrop-filter: blur(10px);
	}
	
	.hotspot-card::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		height: 5px;
		background: linear-gradient(90deg, var(--sage-green), var(--earth-warm), var(--rust-accent));
		transform: scaleX(0);
		transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
		opacity: 0.9;
	}

	.hotspot-card:hover {
		transform: translateY(-8px) scale(1.02);
		box-shadow: 0 20px 40px rgba(139, 105, 20, 0.15);
		border-color: var(--earth-warm);
		background: linear-gradient(145deg, #faf8f3 0%, #f5f1e8 100%);
	}
	
	.hotspot-card:hover::before {
		transform: scaleX(1);
	}

	/* Card Icon Styling */
	.card-icon {
		font-size: 4rem;
		margin-bottom: var(--space-6);
		display: block;
		filter: drop-shadow(0 4px 8px rgba(139, 105, 20, 0.2));
		transition: all 0.3s ease;
	}

	.hotspot-card:hover .card-icon {
		transform: scale(1.1);
		filter: drop-shadow(0 6px 12px rgba(139, 105, 20, 0.3));
	}

	/* Card Heading Styling */
	.hotspot-card h3 {
		font-size: var(--text-2xl);
		font-weight: 800;
		margin-bottom: var(--space-4);
		color: var(--stone-dark);
		line-height: 1.3;
		letter-spacing: -0.02em;
		font-family: 'Arial Black', 'Helvetica Bold', sans-serif;
	}

	/* Card Paragraph Styling */
	.hotspot-card p {
		font-size: var(--text-base);
		line-height: 1.7;
		margin-bottom: var(--space-6);
		color: var(--stone-mid);
		font-weight: 500;
		flex-grow: 1;
	}

	/* Card Arrow Styling */
	.card-arrow {
		position: absolute;
		top: var(--space-6);
		right: var(--space-6);
		font-size: var(--text-2xl);
		color: var(--earth-warm);
		font-weight: 700;
		transition: all 0.3s ease;
		opacity: 0.7;
	}

	.hotspot-card:hover .card-arrow {
		transform: translateX(12px);
		opacity: 1;
		color: var(--sage-green);
	}

	/* Enhanced Hotspot Card Styling */
	.hotspot-header {
		display: flex;
		align-items: center;
		justify-content: center;
		gap: var(--space-3);
		margin-bottom: var(--space-3);
		flex-direction: column;
	}

	.hotspot-emoji {
		font-size: 2.5rem;
		filter: drop-shadow(0 2px 4px rgba(139, 105, 20, 0.2));
		transition: all 0.3s ease;
		flex-shrink: 0;
	}

	.hotspot-card:hover .hotspot-emoji {
		transform: scale(1.1);
		filter: drop-shadow(0 4px 8px rgba(139, 105, 20, 0.3));
	}

	.hotspot-header h4 {
		font-size: var(--text-lg);
		font-weight: 700;
		color: var(--stone-dark);
		margin: 0 0 var(--space-1) 0;
		line-height: 1.2;
		letter-spacing: -0.01em;
		text-align: center;
	}

	.hotspot-subtitle {
		font-size: var(--text-sm);
		color: var(--stone-mid);
		margin: 0;
		line-height: 1.4;
		font-weight: 500;
		text-align: center;
	}

	.hotspot-features {
		display: flex;
		flex-wrap: wrap;
		gap: var(--space-1);
		margin-top: var(--space-2);
		justify-content: center;
	}

	.feature-tag {
		background: linear-gradient(135deg, rgba(107, 124, 50, 0.1) 0%, rgba(139, 105, 20, 0.1) 100%);
		color: var(--stone-dark);
		padding: var(--space-1) var(--space-3);
		border-radius: var(--radius-md);
		font-size: var(--text-xs);
		font-weight: 600;
		border: 1px solid rgba(107, 124, 50, 0.2);
		transition: all 0.2s ease;
		backdrop-filter: blur(5px);
	}

	.feature-tag:hover {
		background: linear-gradient(135deg, rgba(107, 124, 50, 0.2) 0%, rgba(139, 105, 20, 0.2) 100%);
		transform: translateY(-1px);
		box-shadow: 0 2px 6px rgba(107, 124, 50, 0.2);
	}

	/* Responsive Design for Hotspot Cards */
	@media (max-width: 768px) {
		.hotspot-card {
			padding: var(--space-4);
			min-height: 160px;
		}

		.hotspot-header {
			gap: var(--space-3);
			margin-bottom: var(--space-3);
		}

		.hotspot-emoji {
			font-size: 2.5rem;
		}

		.hotspot-header h4 {
			font-size: var(--text-lg);
		}

		.hotspot-subtitle {
			font-size: var(--text-xs);
		}

		.feature-tag {
			font-size: 0.7rem;
			padding: 0.25rem 0.5rem;
		}

		.hotspot-features {
			gap: var(--space-1);
		}
	}

	/* Recent Search Items - Card Style */
	.search-item {
		background: #f5f5dc !important; /* Beige background */
		border: 1px solid rgba(107, 124, 50, 0.3); /* Stronger sage green definition */
		border-radius: var(--radius-md);
		padding: var(--space-3) var(--space-4);
		margin: var(--space-4) var(--space-5) var(--space-4) var(--space-5); /* Much bigger margins for breathing room */
		cursor: pointer;
		transition: all 0.25s ease;
		box-shadow: 0 4px 12px rgba(107, 124, 50, 0.2); /* Stronger shadow */
		display: flex;
		justify-content: center;
		align-items: center;
		position: relative;
		overflow: hidden;
		text-align: center;
	}

	.search-item::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		bottom: 0;
		width: 3px;
		background: linear-gradient(180deg, var(--sage-green), var(--earth-warm));
		opacity: 0.7;
	}

	.search-item:hover {
		transform: translateX(var(--space-2)) translateY(-1px);
		box-shadow: 0 4px 16px rgba(107, 124, 50, 0.2);
		background: #e8e8d0 !important; /* Slightly darker beige on hover */
		border-color: rgba(107, 124, 50, 0.4);
	}

	.search-item:hover::before {
		opacity: 1;
		width: 4px;
	}

	.search-location {
		font-weight: 600;
		color: var(--stone-dark);
		font-size: var(--text-sm);
		text-align: center;
	}

	.search-time {
		font-size: var(--text-xs);
		color: var(--stone-mid);
		font-style: italic;
		opacity: 0.8;
		text-align: center;
	}

	/* Recent Searches Headings - Brown */
	#your-recent-searches h3,
	#community-recent-searches h3,
	#personal-searches h3,
	#community-searches h3 {
		color: var(--stone-dark) !important;
		font-weight: 700 !important;
		font-size: var(--text-lg) !important;
		margin-bottom: var(--space-3) !important;
	}

	/* Recent Searches Title - Brown */
	#your-recent-searches h2,
	#community-recent-searches h2,
	#personal-searches h2,
	#community-searches h2 {
		color: var(--stone-dark) !important;
		font-weight: 800 !important;
		font-size: var(--text-xl) !important;
		margin-bottom: var(--space-4) !important;
		text-transform: uppercase !important;
		letter-spacing: 0.05em !important;
	}

	/* Clear Recent Button */
	.clear-searches {
		background: linear-gradient(135deg, var(--rust-accent), #8b4513);
		color: white;
		border: none;
		padding: var(--space-2) var(--space-4);
		border-radius: var(--radius-md);
		font-size: var(--text-sm);
		font-weight: 600;
		cursor: pointer;
		margin-top: var(--space-3);
		transition: all 0.25s ease;
		box-shadow: 0 2px 6px rgba(160, 82, 45, 0.3);
		display: block;
		margin-left: auto;
		margin-right: auto;
	}

	.clear-searches:hover {
		transform: translateY(-1px);
		box-shadow: 0 4px 12px rgba(160, 82, 45, 0.4);
		background: linear-gradient(135deg, #b8662d, #a0522d);
	}

	/* Map Section */
	#leaflet-map {
		width: 100%;
		height: 400px;
		border-radius: var(--radius-lg);
		border: 2px solid var(--stone-mid);
		box-shadow: 0 4px 12px rgba(45, 42, 38, 0.2);
		overflow: hidden;
		position: relative;
		box-sizing: border-box;
		z-index: 1; /* Ensure map stays below header */
	}

	/* Force Leaflet to fill container properly */
	#leaflet-map .leaflet-container {
		width: 100% !important;
		height: 100% !important;
		background: #e0e0e0 !important;
		z-index: 1; /* Ensure map container stays below header */
	}

	#leaflet-map .leaflet-map-pane {
		width: 100% !important;
		height: 100% !important;
		z-index: 1; /* Ensure map pane stays below header */
	}

	/* Map Text Styling - Dark and Readable */
	#map h2 {
		color: var(--stone-dark) !important;
		font-weight: 700 !important;
		text-shadow: none !important;
	}

	#map p {
		color: var(--stone-dark) !important;
		font-weight: 600 !important;
	}

	.map-summary {
		color: var(--stone-dark) !important;
		font-weight: 600 !important;
	}

	/* Custom Map Emoji Pins - GORGEOUS! */
	.custom-emoji-icon {
		width: 32px !important;
		height: 32px !important;
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		font-size: 20px;
		font-weight: bold;
		border: 3px solid var(--white);
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
		cursor: pointer;
		transition: all 0.3s ease;
		transform: translateZ(0);
	}

	.custom-emoji-icon:hover {
		transform: translateY(-3px) scale(1.1);
		box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
		border-width: 4px;
	}

	/* Emoji-specific backgrounds */
	.emoji-bird {
		background: linear-gradient(135deg, #87CEEB, #4682B4);
		border-color: #1E90FF;
	}

	.emoji-insect {
		background: linear-gradient(135deg, #9ACD32, #228B22);
		border-color: #32CD32;
	}

	.emoji-archaeology {
		background: linear-gradient(135deg, #DEB887, #8B7355);
		border-color: #D2691E;
	}

	.emoji-park {
		background: linear-gradient(135deg, #228B22, #006400);
		border-color: #00FF00;
	}

	.emoji-fossil {
		background: linear-gradient(135deg, #F5DEB3, #DEB887);
		border-color: #D2691E;
	}

	.emoji-earthquake {
		background: linear-gradient(135deg, #FF6347, #DC143C);
		border-color: #FF4500;
	}

	/* Screen Reader Only */
	.sr-only {
		position: absolute;
		width: 1px;
		height: 1px;
		padding: 0;
		margin: -1px;
		overflow: hidden;
		clip: rect(0, 0, 0, 0);
		white-space: nowrap;
		border: 0;
	}

	/* Welcome Section */
	.hero-section {
		text-align: center;
		margin-bottom: var(--space-8);
		padding: var(--space-8);
		background: linear-gradient(135deg, var(--sage-green), var(--earth-warm));
		color: var(--white);
		border-radius: var(--radius-lg);
		box-shadow: 0 4px 16px rgba(45, 42, 38, 0.2);
	}

	.hero-section h1 {
		font-size: var(--text-4xl);
		font-weight: 800;
		margin-bottom: var(--space-4);
		text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
	}

	.hero-section p {
		font-size: var(--text-lg);
		margin-bottom: var(--space-6);
		opacity: 0.95;
	}

	.location-badge {
		display: inline-flex;
		align-items: center;
		gap: var(--space-2);
		background: rgba(255, 255, 255, 0.2);
		backdrop-filter: blur(10px);
		border: 1px solid rgba(255, 255, 255, 0.3);
		border-radius: var(--radius-xl);
		padding: var(--space-3) var(--space-6);
		font-weight: 600;
	}

	/* Footer - Grounded & Substantial */
	footer {
		background: var(--stone-dark);
		color: var(--stone-light);
		padding: var(--space-16) 0 var(--space-8);
		margin-top: auto;
	}

	.footer-content {
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 var(--space-4);
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
		gap: var(--space-8);
		text-align: left;
	}

	.footer-section h3 {
		color: #d0a12d !important; 
		color: var(--white);
		font-size: var(--text-xl);
		font-weight: 700;
		margin-bottom: var(--space-4);
		border-bottom: 2px solid var(--rust-accent);
		padding-bottom: var(--space-2);
		display: inline-block;
	}

	.footer-section p {
		color: var(--stone-light);
		line-height: 1.7;
		margin-bottom: var(--space-4);
		font-size: var(--text-sm);
	}

	.footer-section ul {
		list-style: none;
		padding: 0;
		margin: 0;
	}

	.footer-section li {
		color: var(--stone-light);
		padding: var(--space-2) 0;
		border-bottom: 1px solid rgba(244, 242, 237, 0.2);
	}

	.footer-section strong {
		color: var(--white);
		font-weight: 600;
	}

	.footer-bottom {
		max-width: 1200px;
		margin: 0 auto;
		padding: var(--space-8) var(--space-4) 0 var(--space-4);
		border-top: 1px solid rgba(244, 242, 237, 0.2);
		text-align: center;
	}

	.footer-bottom p {
		margin-bottom: var(--space-4);
		color: var(--stone-light);
		font-size: var(--text-sm);
	}

	.footer-links {
		margin-top: var(--space-4);
		font-size: var(--text-xs);
	}

	.footer-links a {
		color: rgba(244, 242, 237, 0.8);
		text-decoration: none;
		transition: color 0.2s ease;
	}

	.footer-links a:hover {
		color: var(--stone-light);
	}

	/* General Sections */
	section {
		margin-bottom: var(--space-8);
		padding: var(--space-6);
		background: rgba(250, 248, 243, 0.95);
		border-radius: var(--radius-lg);
		transition: all 0.25s ease;
		position: relative;
		border: 1px solid rgba(139, 105, 20, 0.1);
		box-shadow: 0 2px 8px rgba(139, 105, 20, 0.1);
	}

	/* Intro Section - Clean with Green Focus on Input */
	#location-input {
		background: #2e2a27 !important; /* Dark brown background */
		border: none;
		box-shadow: none;
		position: relative;
		overflow: visible;
	}

	.intro-message {
		background: #2e2a27; /* Dark brown background */
		padding: var(--space-6);
		margin-bottom: var(--space-6);
		border: none;
		box-shadow: none;
		position: relative;
	}

	.intro-message h2 {
		color: rgba(250, 248, 243, 0.95);
		font-size: var(--text-3xl);
		font-weight: 900;
		margin-bottom: var(--space-4);
		text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
		font-family: 'Arial Black', 'Helvetica Bold', sans-serif;
		letter-spacing: 0.05em;
		text-transform: uppercase;
		position: relative;
	}

	.intro-message p {
		color: rgba(250, 248, 243, 0.9);
		font-size: var(--text-lg);
		line-height: 1.7;
		margin-bottom: var(--space-4);
		font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		font-weight: 500;
	}

	.intro-message p:last-child {
		margin-bottom: 0;
		font-style: italic;
		opacity: 0.8;
	}

	/* Input Container - Transparent with Centered Input */
	.input-container {
		position: relative;
		margin: var(--space-6) auto;
		max-width: 500px;
		background: #2e2a27;
		padding: var(--space-6);
		border-radius: var(--radius-lg);
		border: none;
		box-shadow: none;
		text-align: center;
		transition: all 0.3s ease;
		cursor: pointer;
		display: flex;
		align-items: center;
		justify-content: center;
		gap: var(--space-3);
	}

	.input-container:hover {
		transform: translateY(-4px);
		box-shadow: none;
		border-color: transparent;
		background: #2e2a27;
	}

	@keyframes greenPulse {
		0%, 100% { opacity: 0.8; transform: scale(1); }
		50% { opacity: 1; transform: scale(1.01); }
	}

	#location-input-field {
		background: rgba(107, 124, 50, 0.9);
		border: 2px solid rgba(250, 248, 243, 0.8) !important; /* Beige border */
		outline: none !important;
		box-shadow: none !important;
		color: rgba(244, 242, 237, 0.8);
		font-family: 'Courier New', monospace;
		font-weight: 600;
		letter-spacing: 0.05em;
		flex: 1;
		padding: var(--space-4);
		border-radius: var(--radius-md);
		height: 44px; /* Match the button height */
		box-sizing: border-box;
	}

	#location-input-field::placeholder {
		color: rgba(250, 248, 243, 0.5);
		font-style: italic;
	}

	.input-submit-btn {
		background: linear-gradient(135deg, var(--sage-green), #8f9f4a);
		border: 2px solid var(--sage-green);
		color: var(--stone-light);
		font-weight: 700;
		text-transform: uppercase;
		letter-spacing: 0.1em;
		font-family: 'Arial Black', sans-serif;
		transition: all 0.3s ease;
		position: relative;
		overflow: hidden;
		padding: var(--space-4);
		border-radius: var(--radius-md);
		min-width: 60px;
		height: 44px;
		display: flex;
		align-items: center;
		justify-content: center;
		flex-shrink: 0; /* Prevent button from shrinking */
		margin: 0; /* Remove any margin */
		align-self: center; /* Ensure vertical centering */
	}

	.input-submit-btn:hover {
		background: linear-gradient(135deg, #8f9f4a, var(--sage-green));
		transform: translateY(-2px);
		box-shadow: 0 6px 20px rgba(107, 124, 50, 0.4);
	}

	.input-submit-btn::before {
		content: '';
		position: absolute;
		top: 0;
		left: -100%;
		width: 100%;
		height: 100%;
		background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
		transition: left 0.5s ease;
	}

	.input-submit-btn:hover::before {
		left: 100%;
	}

	/* Location Divider - Clean */
	.location-divider {
		text-align: center;
		margin: var(--space-4) 0;
		position: relative;
	}

	.location-divider span {
		background: transparent;
		color: rgba(250, 248, 243, 0.8);
		padding: var(--space-2) var(--space-4);
		font-family: 'Georgia', serif;
		font-style: italic;
		font-weight: 600;
		border: none;
		border-radius: var(--radius-md);
		position: relative;
		z-index: 1;
	}

	/* Use My Location Button */
	#location-input button[onclick="useGeolocation()"] {
		background: linear-gradient(135deg, var(--sage-green), #8f9f4a);
		color: var(--stone-light);
		border: 2px solid var(--sage-green);
		font-family: 'Arial Black', sans-serif;
		font-weight: 700;
		text-transform: uppercase;
		letter-spacing: 0.1em;
		transition: all 0.3s ease;
		box-shadow: 0 4px 12px rgba(107, 124, 50, 0.3);
		position: relative;
		overflow: hidden;
		padding: var(--space-4) var(--space-6);
		border-radius: var(--radius-md);
		font-size: var(--text-base);
		cursor: pointer;
	}

	#location-input button[onclick="useGeolocation()"]:hover {
		background: linear-gradient(135deg, #8f9f4a, var(--sage-green));
		transform: translateY(-2px);
		box-shadow: 0 6px 20px rgba(107, 124, 50, 0.4);
		border-color: var(--sage-green);
	}

	#location-input button[onclick="useGeolocation()"]::before {
		content: '';
		position: absolute;
		top: 0;
		left: -100%;
		width: 100%;
		height: 100%;
		background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
		transition: left 0.5s ease;
	}

	#location-input button[onclick="useGeolocation()"]:hover::before {
		left: 100%;
	}

	section:not(.data-section):not(:last-child)::after {
		content: '';
		position: absolute;
		bottom: calc(-1 * var(--space-3));
		left: 0;
		right: 0;
		height: 1px;
		background: linear-gradient(90deg, transparent, rgba(139, 105, 20, 0.3), transparent);
	}

	/* Weather Section - Full Width */
	#weather {
		width: 100% !important;
		max-width: 100% !important;
		background: rgba(250, 248, 243, 0.95) !important;
		margin-bottom: var(--space-6);
		padding: var(--space-6);
		border-radius: var(--radius-lg);
		box-shadow: 0 4px 12px rgba(139, 105, 20, 0.15);
		border: 1px solid rgba(139, 105, 20, 0.1);
		text-align: center;
	}

	#weather h2 {
		text-align: center;
		margin-bottom: var(--space-4);
	}

	#weather #weather-data {
		text-align: center;
		max-width: 600px;
		margin: 0 auto;
	}

	/* Second Location Input Section */
	.second-location-input {
		background: rgba(250, 248, 243, 0.95);
		border-radius: var(--radius-lg);
		padding: var(--space-6);
		margin: var(--space-8) 0;
		text-align: center;
		box-shadow: 0 4px 12px rgba(139, 105, 20, 0.15);
		border: 1px solid rgba(139, 105, 20, 0.1);
	}

	.second-location-input h3 {
		color: var(--stone-dark);
		font-size: var(--text-xl);
		margin-bottom: var(--space-4);
		font-weight: 600;
	}

	.second-location-input p {
		color: var(--stone-mid);
		margin-bottom: var(--space-4);
		font-size: var(--text-base);
	}

	.random-locations {
		display: flex;
		flex-wrap: wrap;
		gap: var(--space-3);
		justify-content: center;
		margin-top: var(--space-4);
	}

	.random-location-btn {
		background: linear-gradient(135deg, var(--sage-green), var(--earth-warm));
		color: white;
		border: none;
		padding: var(--space-2) var(--space-4);
		border-radius: var(--radius-md);
		font-size: var(--text-sm);
		font-weight: 600;
		cursor: pointer;
		transition: all 0.25s ease;
		box-shadow: 0 2px 6px rgba(107, 124, 50, 0.3);
	}

	.random-location-btn:hover {
		transform: translateY(-1px);
		box-shadow: 0 4px 12px rgba(107, 124, 50, 0.4);
		background: linear-gradient(135deg, #7a8c3a, #9b7a1a);
	}

	/* Mobile Responsive */
	@media (max-width: 768px) {
		:root {
			--space-4: 0.75rem;
			--space-6: 1.25rem;
			--space-8: 1.5rem;
			--space-12: 2rem;
			--space-16: 2.5rem;
		}

		.header-content {
			padding: 0 var(--space-3);
		}

		main {
			max-width: 95% !important; /* 95% width on mobile for better readability */
			margin: var(--space-4) auto; /* Center with auto margins */
			padding: var(--space-4); /* Reduced padding */
			border-radius: var(--radius-md); /* Smaller border radius */
		}

		section {
			padding: var(--space-4); /* Reduced section padding */
			margin-bottom: var(--space-6); /* Reduced section margins */
			width: 100%; /* Full width within the 90% container */
		}

		section h2 {
			font-size: var(--text-xl); /* Smaller headings on mobile */
		}

		section h3 {
			font-size: var(--text-lg); /* Smaller subheadings on mobile */
		}

		.input-container {
			flex-direction: column;
			max-width: 100%; /* Full width within the 90% container */
		}

		#location-input {
			padding: var(--space-6); /* Reduced padding */
		}

		#location-input-field {
			padding: var(--space-4); /* Larger touch target */
			font-size: var(--text-base); /* Readable font size */
		}

		#location-input-2 {
			padding: var(--space-6); /* Reduced padding */
		}

		#location-input-2-field {
			padding: var(--space-4); /* Larger touch target */
			font-size: var(--text-base); /* Readable font size */
		}

		/* Fix all the wrapper margins that are making content narrow */
		#your-recent-searches,
		#community-recent-searches,
		#personal-searches,
		#community-searches {
			padding: var(--space-3); /* Much less padding */
			margin: var(--space-2) 0; /* Minimal margins */
		}

		.hotspot-card {
			margin: var(--space-3) 0; /* Much smaller margins */
			padding: var(--space-4); /* Reduced padding */
		}

		.search-item {
			margin: var(--space-2) 0; /* Much smaller margins */
			padding: var(--space-3) var(--space-4); /* Reduced padding */
		}

		/* Make buttons larger for touch */
		button {
			padding: var(--space-4) var(--space-6);
			min-height: 44px; /* Minimum touch target size */
		}

		.hero-section h1 {
			font-size: var(--text-3xl);
		}

		/* Make navigation buttons smaller on mobile */
		.nav-btn {
			padding: var(--space-1) var(--space-3);
			font-size: var(--text-xs);
			min-height: 36px; /* Minimum touch target */
		}

		.header-nav {
			gap: var(--space-2);
		}

		/* Improve list readability on mobile */
		li {
			padding: var(--space-4); /* Larger touch targets */
			margin-bottom: var(--space-3);
		}

		/* Adjust footer for mobile */
		.footer-content {
			grid-template-columns: 1fr; /* Single column on mobile */
			gap: var(--space-6);
			padding: 0 var(--space-3);
		}

		.footer-bottom {
			padding: var(--space-6) var(--space-3) 0 var(--space-3);
		}

		.footer-section h3 {
			font-size: var(--text-lg);
			margin-bottom: var(--space-3);
		}

		.footer-section p {
			font-size: var(--text-sm);
			margin-bottom: var(--space-3);
		}

			/* Hotspot Cards Section Styling - Enhanced Outdoors Design */
	.hotspot-cards {
		margin: var(--space-12) 0;
		text-align: center;
		padding: var(--space-8);
		background: rgba(250, 248, 243, 0.95);
		border-radius: var(--radius-xl);
		border: 1px solid rgba(139, 105, 20, 0.1);
		box-shadow: 0 4px 16px rgba(139, 105, 20, 0.08);
	}

	.hotspot-cards h2 {
		color: var(--stone-dark);
		font-size: var(--text-3xl);
		margin-bottom: var(--space-4);
		font-weight: 900;
		text-transform: uppercase;
		letter-spacing: 0.05em;
		text-shadow: 0 2px 4px rgba(45, 42, 38, 0.1);
		font-family: 'Arial Black', 'Helvetica Bold', sans-serif;
	}

	.hotspot-cards p {
		color: var(--stone-mid);
		font-size: var(--text-lg);
		margin-bottom: var(--space-8);
		max-width: 700px;
		margin-left: auto;
		margin-right: auto;
		line-height: 1.7;
		font-weight: 500;
	}

	.cards-grid {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		gap: var(--space-8);
		margin-top: var(--space-8);
		max-width: 1000px;
		margin-left: auto;
		margin-right: auto;
		/* Always maintain 2 columns */
		grid-auto-flow: row;
	}

	.hotspot-card {
		display: block;
		background: linear-gradient(145deg, var(--white) 0%, var(--cream) 100%);
		border: 2px solid rgba(139, 105, 20, 0.2);
		border-radius: var(--radius-xl);
		padding: var(--space-8);
		text-decoration: none;
		color: var(--stone-dark);
		transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
		position: relative;
		overflow: hidden;
		text-align: left;
		box-shadow: 0 8px 24px rgba(139, 105, 20, 0.12);
		min-height: 280px;
		display: flex;
		flex-direction: column;
		justify-content: space-between;
	}

	.hotspot-card:hover {
		transform: translateY(-12px) scale(1.02);
		box-shadow: 0 24px 48px rgba(139, 105, 20, 0.2);
		border-color: var(--earth-warm);
		background: linear-gradient(145deg, var(--cream) 0%, var(--white) 100%);
	}

	.hotspot-card::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		height: 5px;
		background: linear-gradient(90deg, var(--sage-green), var(--earth-warm), var(--rust-accent));
		transform: scaleX(0);
		transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
		opacity: 0.9;
	}

	.hotspot-card:hover::before {
		transform: scaleX(1);
	}

	.card-icon {
		font-size: 4rem;
		margin-bottom: var(--space-6);
		display: block;
		filter: drop-shadow(0 4px 8px rgba(139, 105, 20, 0.2));
		transition: all 0.3s ease;
	}

	.hotspot-card:hover .card-icon {
		transform: scale(1.1);
		filter: drop-shadow(0 6px 12px rgba(139, 105, 20, 0.3));
	}

	.hotspot-card h3 {
		font-size: var(--text-2xl);
		font-weight: 800;
		margin-bottom: var(--space-4);
		color: var(--stone-dark);
		line-height: 1.3;
		letter-spacing: -0.02em;
		font-family: 'Arial Black', 'Helvetica Bold', sans-serif;
	}

	.hotspot-card p {
		font-size: var(--text-base);
		line-height: 1.7;
		margin-bottom: var(--space-6);
		color: var(--stone-mid);
		font-weight: 500;
		flex-grow: 1;
	}

	.card-arrow {
		position: absolute;
		top: var(--space-6);
		right: var(--space-6);
		font-size: var(--text-2xl);
		color: var(--earth-warm);
		font-weight: 700;
		transition: all 0.3s ease;
		opacity: 0.7;
	}

	.hotspot-card:hover .card-arrow {
		transform: translateX(12px);
		opacity: 1;
		color: var(--sage-green);
	}

	/* Card-specific color themes and enhancements */
	.parks-card {
		border-color: rgba(34, 197, 94, 0.3);
		background: #f5f5dc; /* Beige background */
	}

	.parks-card:hover {
		border-color: #22c55e;
		background: #e8e8d0; /* Slightly darker beige on hover */
	}

	.parks-card::before {
		background: linear-gradient(90deg, #22c55e, #16a34a, #15803d);
	}

	.wildlife-card {
		border-color: rgba(251, 191, 36, 0.3);
		background: #f5f5dc; /* Beige background */
	}

	.wildlife-card:hover {
		border-color: #f59e0b;
		background: #e8e8d0; /* Slightly darker beige on hover */
	}

	.wildlife-card::before {
		background: linear-gradient(90deg, #f59e0b, #d97706, #b45309);
	}

	.earthquakes-card {
		border-color: rgba(239, 68, 68, 0.3);
		background: #f5f5dc; /* Beige background */
	}

	.earthquakes-card:hover {
		border-color: #ef4444;
		background: #e8e8d0; /* Slightly darker beige on hover */
	}

	.earthquakes-card::before {
		background: linear-gradient(90deg, #ef4444, #dc2626, #b91c1c);
	}

	.weather-card {
		border-color: rgba(59, 130, 246, 0.3);
		background: linear-gradient(145deg, #eff6ff 0%, #dbeafe 100%);
	}

	.weather-card:hover {
		border-color: #3b82f6;
		background: linear-gradient(145deg, #dbeafe 0%, #bfdbfe 100%);
	}

	.weather-card::before {
		background: linear-gradient(90deg, #3b82f6, #2563eb, #1d4ed8);
	}

	.heritage-card {
		border-color: rgba(139, 92, 246, 0.3);
		background: linear-gradient(145deg, #faf5ff 0%, #f3e8ff 100%);
	}

	.heritage-card:hover {
		border-color: #8b5cf6;
		background: linear-gradient(145deg, #f3e8ff 0%, #e9d5ff 100%);
	}

	.heritage-card::before {
		background: linear-gradient(90deg, #8b5cf6, #7c3aed, #6d28d9);
	}

	.fossils-card {
		border-color: rgba(236, 72, 153, 0.3);
		background: linear-gradient(145deg, #fdf2f8 0%, #fce7f3 100%);
	}

	.fossils-card:hover {
		border-color: #ec4899;
		background: linear-gradient(145deg, #fce7f3 0%, #fbcfe8 100%);
	}

	.fossils-card::before {
		background: linear-gradient(90deg, #ec4899, #db2777, #be185d);
	}

	/* Additional card types for wildlife page */
	.birds-card {
		border-color: rgba(34, 197, 94, 0.3);
		background: linear-gradient(145deg, #f0fdf4 0%, #dcfce7 100%);
	}

	.birds-card:hover {
		border-color: #22c55e;
		background: linear-gradient(145deg, #dcfce7 0%, #bbf7d0 100%);
	}

	.birds-card::before {
		background: linear-gradient(90deg, #22c55e, #16a34a, #15803d);
	}

	.mammals-card {
		border-color: rgba(251, 191, 36, 0.3);
		background: linear-gradient(145deg, #fffbeb 0%, #fef3c7 100%);
	}

	.mammals-card:hover {
		border-color: #f59e0b;
		background: linear-gradient(145deg, #fef3c7 0%, #fde68a 100%);
	}

	.mammals-card::before {
		background: linear-gradient(90deg, #f59e0b, #d97706, #b45309);
	}

	.reptiles-card {
		border-color: rgba(34, 197, 94, 0.3);
		background: linear-gradient(145deg, #f0fdf4 0%, #dcfce7 100%);
	}

	.reptiles-card:hover {
		border-color: #22c55e;
		background: linear-gradient(145deg, #dcfce7 0%, #bbf7d0 100%);
	}

	.reptiles-card::before {
		background: linear-gradient(90deg, #22c55e, #16a34a, #15803d);
	}

	.insects-card {
		border-color: rgba(251, 191, 36, 0.3);
		background: linear-gradient(145deg, #fffbeb 0%, #fef3c7 100%);
	}

	.insects-card:hover {
		border-color: #f59e0b;
		background: linear-gradient(145deg, #fef3c7 0%, #fde68a 100%);
	}

	.insects-card::before {
		background: linear-gradient(90deg, #f59e0b, #d97706, #b45309);
	}

	.habitats-card {
		border-color: rgba(34, 197, 94, 0.3);
		background: linear-gradient(145deg, #f0fdf4 0%, #dcfce7 100%);
	}

	.habitats-card:hover {
		border-color: #22c55e;
		background: linear-gradient(145deg, #dcfce7 0%, #bbf7d0 100%);
	}

	.habitats-card::before {
		background: linear-gradient(90deg, #22c55e, #16a34a, #15803d);
	}

	.conservation-card {
		border-color: rgba(59, 130, 246, 0.3);
		background: linear-gradient(145deg, #eff6ff 0%, #dbeafe 100%);
	}

	.conservation-card:hover {
		border-color: #3b82f6;
		background: linear-gradient(145deg, #dbeafe 0%, #bfdbfe 100%);
	}

	.conservation-card::before {
		background: linear-gradient(90deg, #3b82f6, #2563eb, #1d4ed8);
	}

	/* Additional card types for earthquakes page */
	.seismic-card {
		border-color: rgba(239, 68, 68, 0.3);
		background: linear-gradient(145deg, #fef2f2 0%, #fee2e2 100%);
	}

	.seismic-card:hover {
		border-color: #ef4444;
		background: linear-gradient(145deg, #fee2e2 0%, #fecaca 100%);
	}

	.seismic-card::before {
		background: linear-gradient(90deg, #ef4444, #dc2626, #b91c1c);
	}

	.geology-card {
		border-color: rgba(139, 69, 19, 0.3);
		background: linear-gradient(145deg, #fefce8 0%, #fef9c3 100%);
	}

	.geology-card:hover {
		border-color: #8b4513;
		background: linear-gradient(145deg, #fef9c3 0%, #fef08a 100%);
	}

	.geology-card::before {
		background: linear-gradient(90deg, #8b4513, #a0522d, #cd853f);
	}

	.faults-card {
		border-color: rgba(239, 68, 68, 0.3);
		background: linear-gradient(145deg, #fef2f2 0%, #fee2e2 100%);
	}

	.faults-card:hover {
		border-color: #ef4444;
		background: linear-gradient(145deg, #fee2e2 0%, #fecaca 100%);
	}

	.faults-card::before {
		background: linear-gradient(90deg, #ef4444, #dc2626, #b91c1c);
	}

	.minerals-card {
		border-color: rgba(251, 191, 36, 0.3);
		background: linear-gradient(145deg, #fffbeb 0%, #fef3c7 100%);
	}

	.minerals-card:hover {
		border-color: #f59e0b;
		background: linear-gradient(145deg, #fef3c7 0%, #fde68a 100%);
	}

	.minerals-card::before {
		background: linear-gradient(90deg, #f59e0b, #d97706, #b45309);
	}

	.volcanic-card {
		border-color: rgba(239, 68, 68, 0.3);
		background: linear-gradient(145deg, #fef2f2 0%, #fee2e2 100%);
	}

	.volcanic-card:hover {
		border-color: #ef4444;
		background: linear-gradient(145deg, #fee2e2 0%, #fecaca 100%);
	}

	.volcanic-card::before {
		background: linear-gradient(90deg, #ef4444, #dc2626, #b91c1c);
	}

	.emergency-card {
		border-color: rgba(239, 68, 68, 0.3);
		background: linear-gradient(145deg, #fef2f2 0%, #fee2e2 100%);
	}

	.emergency-card:hover {
		border-color: #ef4444;
		background: linear-gradient(145deg, #fee2e2 0%, #fecaca 100%);
	}

	.emergency-card:hover .card-icon {
		animation: emergencyPulse 1s infinite;
	}

	.emergency-card::before {
		background: linear-gradient(90deg, #ef4444, #dc2626, #b91c1c);
	}

	@keyframes emergencyPulse {
		0%, 100% { transform: scale(1.1); }
		50% { transform: scale(1.2); }
	}

	/* Card-specific color themes */
	.parks-card {
		border-color: #4ade80;
	}

	.parks-card:hover {
		border-color: #22c55e;
	}

	.wildlife-card {
		border-color: #fbbf24;
	}

	.wildlife-card:hover {
		border-color: #f59e0b;
	}

	.earthquakes-card {
		border-color: #f87171;
	}

	.earthquakes-card:hover {
		border-color: #ef4444;
	}

	.weather-card {
		border-color: #60a5fa;
	}

	.weather-card:hover {
		border-color: #3b82f6;
	}

	.heritage-card {
		border-color: #a78bfa;
	}

	.heritage-card:hover {
		border-color: #8b5cf6;
	}

	.fossils-card {
		border-color: #f472b6;
	}

	.fossils-card:hover {
		border-color: #ec4899;
	}

	/* Mobile responsive for data grid */
	.data-grid {
		grid-template-columns: 50% 50% !important; /* Keep 2 columns even on mobile */
		gap: var(--space-4);
	}

	.data-count {
		min-width: auto;
		width: 100%;
		padding: var(--space-3);
	}

			.count-number {
			font-size: var(--text-xl);
		}

		/* Always show 2 columns for hotspot cards */
		.cards-grid {
			grid-template-columns: repeat(2, 1fr);
			gap: var(--space-6);
			max-width: 100%;
		}

		/* Ensure cards are properly sized on all screens */
		.hotspot-card {
			min-height: 200px;
			padding: var(--space-6);
		}

		.card-icon {
			font-size: 3rem;
			margin-bottom: var(--space-4);
		}

		.hotspot-card h3 {
			font-size: var(--text-lg);
			margin-bottom: var(--space-3);
		}

		.hotspot-card p {
			font-size: var(--text-sm);
			margin-bottom: var(--space-4);
		}

		.hotspot-card {
			padding: var(--space-6);
			min-height: 240px;
		}

		.card-icon {
			font-size: 3rem;
			margin-bottom: var(--space-4);
		}

		.hotspot-card h3 {
			font-size: var(--text-xl);
			margin-bottom: var(--space-3);
		}

		.hotspot-card p {
			font-size: var(--text-base);
			margin-bottom: var(--space-4);
		}

		.card-arrow {
			top: var(--space-4);
			right: var(--space-4);
			font-size: var(--text-xl);
		}

		/* Enhanced mobile hotspot cards section */
		.hotspot-cards {
			padding: var(--space-6);
			margin: var(--space-8) 0;
		}

		.hotspot-cards h2 {
			font-size: var(--text-2xl);
			margin-bottom: var(--space-3);
		}

		.hotspot-cards p {
			font-size: var(--text-base);
			margin-bottom: var(--space-6);
		}
	}
</style>
